@model TimesheetSystem.ViewModels.WeeklyTimesheetViewModel
@{
	ViewData["Title"] = "Weekly Timesheet";
}

<div class="container col-md-8 offset-md-2">
	<div class="row mb-4">
		<div class="col-md-12">
			<h2>Weekly Timesheets</h2>
		</div>
	</div>

	<div class="row mb-3">
		@await Html.PartialAsync("_UserSelector", Model.NavigationData)
		@await Html.PartialAsync("_WeekSelector", Model.NavigationData)
	</div>

	@if (Model.NavigationData.SelectedUserId > 0)
	{
		<div class="row">
			<div class="col-md-12">
				<div class="col-md-12 text-start">
					<a asp-controller="Timesheet" asp-action="Add"
					   asp-route-userId="@Model.NavigationData.SelectedUserId"
					   asp-route-weekStart="@Model.NavigationData.WeekStartDate.ToString("yyyy-MM-dd")"
					   class="btn btn-primary">
						Add New Entry
					</a>
				</div>
				@await Html.PartialAsync("_UserWeekList", Model)
				@await Html.PartialAsync("_ProjectWeekSummary", Model)
			</div>
		</div>
	}
</div>
